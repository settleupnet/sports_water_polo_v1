---
# Water Polo v1 Event Type Catalog
# Single source of truth for all event types, fields, labels, and UI hints

sport_key: water_polo
version_major: 1

event_types:
  - kind: goal
    label: Goal
    icon: ü•Ö
    description: A goal scored by a player
    effect: good
    fields:
      - name: primary_player_id
        type: player_id
        label: Scorer
        required: true
        description: The player who scored the goal (gets credit)
      - name: secondary_player_id
        type: player_id
        label: Assist
        required: false
        same_team: true
        description: The player who assisted the goal (gets credit)
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number (1-4 regular, 5+ overtime)
      - name: method
        type: string
        label: Shot Type
        required: false
        description: How the goal was scored (any string)
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: true
      color: green
      display_format: "Goal by {primary_player_id}"
    examples:
      - primary_player_id: "p1"
        time: "6:45"
        period: 1
      - primary_player_id: "p2"
        secondary_player_id: "p3"
        time: "3:22"
        period: 2
        method: penalty

  - kind: steal
    label: Steal
    icon: ü§∫
    description: Player steals the ball from opponent
    effect: good
    fields:
      - name: primary_player_id
        type: player_id
        label: Stealer
        required: true
        description: Player who stole the ball (gets credit)
      - name: secondary_player_id
        type: player_id
        label: Stolen From
        required: false
        same_team: false
        description: Player who lost the ball (opposite team)
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: true
      color: blue
      display_format: "{primary_player_id} steals"
    examples:
      - primary_player_id: "p1"
        secondary_player_id: "p2"
        time: "5:30"
        period: 1

  - kind: exclusion 
    label: Exclusion
    icon: üö´
    description: A player ejected from the game temporarily (typically 20 seconds)
    effect: bad
    fields:
      - name: primary_player_id
        type: player_id
        label: Excluded Player
        required: true
        description: The player who committed the foul and is excluded for 20s
      - name: secondary_player_id
        type: player_id
        label: Drew Exclusion
        required: false
        same_team: false
        description: The player who was fouled and drew the exclusion (opposite team)
      - name: duration
        type: integer
        label: Duration (seconds)
        required: false
        description: Length of exclusion in seconds (typically 20)
      - name: reason
        type: string
        label: Reason
        required: false
        description: Reason for the ejection (any string)
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: red
      display_format: "{primary_player_id} excluded"
    examples:
      - primary_player_id: "p4"
        duration: 20
        reason: ordinary_foul
        time: "5:30"
        period: 1
      - primary_player_id: "p5"
        secondary_player_id: "p6"
        duration: 20
        time: "2:15"
        period: 3

  - kind: five_meter
    label: Five-Meter Penalty
    icon: üö©
    description: Five-meter penalty awarded against a player
    effect: bad
    fields:
      - name: primary_player_id
        type: player_id
        label: Player Who Committed the Foul
        required: true
        description: Player who committed the foul (penalty is against them, gets credit)
      - name: secondary_player_id
        type: player_id
        label: Player Who Drew the Penalty
        required: false
        same_team: false
        description: Player who was penalized and drew the penalty (opposite team)
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: orange
      display_format: "Five-meter penalty against {primary_player_id}"
    examples:
      - primary_player_id: "p3"
        secondary_player_id: "p4"
        time: "3:15"
        period: 2

  - kind: won_sprint
    label: Won Sprint
    icon: üèä
    description: Player wins opening sprint
    effect: good
    fields:
      - name: primary_player_id
        type: player_id
        label: Winner
        required: true
        description: Player who won the sprint
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: true
      color: green
      display_format: "{primary_player_id} wins sprint"
    examples:
      - primary_player_id: "p1"
        time: "8:00"
        period: 1

  - kind: block
    label: Block
    icon: üõ°Ô∏è
    description: Player blocks a shot
    effect: good
    fields:
      - name: primary_player_id
        type: player_id
        label: Blocker
        required: true
        description: Player who blocked the shot (gets credit)
      - name: secondary_player_id
        type: player_id
        label: Shooter
        required: false
        same_team: false
        description: Player whose shot was blocked (opposite team)
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: true
      color: purple
      display_format: "{primary_player_id} blocks shot"
    examples:
      - primary_player_id: "p5"
        secondary_player_id: "p6"
        time: "4:30"
        period: 3

  - kind: misconduct
    label: Misconduct
    icon: üü•
    description: Red or yellow card issued to player or coach
    effect: bad
    fields:
      - name: primary_player_id
        type: player_id
        label: Recipient
        required: false
        description: Player or coach receiving the card
      - name: card_type
        type: string
        label: Card Type
        required: false
        description: Type of card issued (e.g., yellow, red)
      - name: reason
        type: string
        label: Reason
        required: false
        description: Reason for the misconduct (any string)
      - name: is_brutality
        type: boolean
        label: Is Brutality
        required: false
        description: If true and red card to player, results in 240s ejection
        default: false
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: red
      display_format: "{card_type} card to {primary_player_id}"
    examples:
      - primary_player_id: "p7"
        card_type: yellow
        reason: unsportsmanlike_conduct
        time: "2:45"
        period: 2
      - primary_player_id: "p8"
        card_type: red
        reason: brutality
        is_brutality: true
        time: "1:30"
        period: 4

  - kind: timeout
    label: Timeout
    icon: ‚è±Ô∏è
    description: Team timeout or referee timeout
    effect: neutral
    fields:
      - name: team
        type: string
        label: Team
        required: false
        description: Which team called timeout (us/them/referee)
      - name: duration
        type: integer
        label: Duration (seconds)
        required: false
        description: Length of timeout in seconds
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: blue
      display_format: "{team} timeout"
    examples:
      - team: us
        duration: 60
        time: "4:00"
        period: 2
      - team: referee
        duration: 120
        time: "2:00"
        period: 3

  - kind: period_start
    label: Period Start
    icon: üîî
    description: Start of a quarter (1-4 regular game, 5+ overtime)
    effect: neutral
    fields:
      - name: period
        type: integer
        label: Period
        required: true
        description: Quarter number starting (1-4 regular, 5+ overtime)
      - name: time
        type: integer
        label: Time
        required: false
        description: Starting time in milliseconds (optional)
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: gray
      display_format: "Start of Period {period}"
    examples:
      - period: 1
        time: "8:00"
      - period: 5
        time: "3:00"

  - kind: period_end
    label: Period End
    icon: üîî
    description: End of a quarter
    effect: neutral
    fields:
      - name: period
        type: integer
        label: Period
        required: true
        description: Quarter number that ended
      - name: time
        type: integer
        label: Time
        required: false
        description: Time in milliseconds (optional, typically 0)
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: gray
      display_format: "End of Period {period}"
    examples:
      - period: 1
        time: "0:00"
      - period: 5
        time: "0:00"

  - kind: start_shootout
    label: Start Shootout
    icon: üéØ
    description: Begins shootout period (sudden death, no clocks)
    effect: neutral
    notes: |
      Shootout goals are appended to score after a decimal point.
      Example: 10.3 - 10.2 means winning team made 3 shootout goals, losing team made 2.
      Period is -1 for shootout.
    fields:
      - name: period
        type: integer
        label: Period
        required: false
        description: Shootout period marker (always -1)
        default: -1
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: yellow
      display_format: "Shootout begins"
    examples:
      - period: -1

  - kind: comment
    label: Comment
    icon: üí¨
    description: Timeline note or annotation (global event)
    effect: neutral
    fields:
      - name: time
        type: integer
        label: Game Time
        required: false
        description: Time in milliseconds (optional)
      - name: period
        type: integer
        label: Period
        required: false
        description: Quarter number
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: gray
      display_format: "{text}"
    examples:
      - text: "Coach called timeout to discuss strategy"
        time: "5:00"
        period: 2
      - text: "Weather delay - 10 minutes"

  - kind: game_end
    label: Game End
    icon: üèÅ
    description: End of the game
    effect: neutral
    fields:
      - name: note
        type: string
        label: Note
        required: false
        description: Optional note or comment about this event
    ui:
      primary_action: false
      color: black
      display_format: "Game Over"
    examples:
      - time: "0:00"
        period: 4
      - time: "0:00"
        period: -1
